    <script>
        var layer_rooms;
    function pop_rooms(feature, layer) {
        layer.on({
            mouseout: function(e) {
                for (i in e.target._eventParents) {
                    e.target._eventParents[i].resetStyle(e.target);
                }
            },
            mouseover: highlightFeature,
        });
        popupContent = feature.properties.popupContent;
        layer.bindPopup(popupContent, {maxHeight: 400});
    };

    function style_rooms(feature) {
        return {
            pane: 'pane_rooms',
            opacity: 1,
            color: 'rgba(0,0,0,1.0)',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: 1.0,
            fill: true,
            fillOpacity: 1,
            fillColor: feature.properties.color
        };
    };
    function load_rooms(map, bounds_group) {
        var url = '{% url ""|add:room_data_url floor=floor_no %}';
        map.createPane('pane_rooms')
        map.getPane('pane_rooms').style.zIndex = 401;
        map.getPane('pane_rooms').style['mix-blend-mode'] = 'normal';
        $.getJSON(url, function(data) {
            var layer = new L.geoJSON(data, {
                pane: 'pane_rooms',
                style: style_rooms,
                onEachFeature: pop_rooms,
            })
            layer.addTo(map);
            bounds_group.addLayer(layer)
            // layerOrder.push(layer)
            overlayLayers['Rooms'] = layer;
            layer_rooms = layer;
            // Add search by room
            map.addControl(new L.Control.Search({
                layer: layer,
                initial: false,
                hideMarkerOnCollapse: true,
                propertyName: 'symbol',
                container: 'search'
            }));
        })
    };

    </script>